<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script src = "../lib/jquery.js"></script>
    <script src = "../lib/d3.js"></script>
    <script src = "../lib/paper-full.js "></script>
    <script src = "../src/marchingants.js"></script>

    <style>
        svg{
        	position:absolute;
        	left:0px;
        	top:0px;
        	z-index: -1;
        }
        canvas{
        	position:absolute;
        	left:0px;
        	top:0px;
        }
    </style>
</head>
<body>

    <canvas id = "mycanvas" width = "1200" height="800" display=" inline">
    </canvas>

    <div>
        <svg id="coversvg" width="1200" height="800">
            <rect x="117" y="300" style="fill: #B7DEEB;" width="355" height="150"></rect>

            <rect x="577" y="300" style="fill: #B7DEEB;" width="355" height="150"></rect>
        </svg>
    </div>
    <script >
        var canvas = document.getElementsByTagName("canvas")[0];
        paper.setup(canvas);
        paper.install(window);
          
        var lineFunction = d3.line()
                .x(function(d) { return d[0]; })
                .y(function(d) { return d[1]; })
        
        //here we define a path (along which ants march) by point list, this hard-coding just to show the API usage :-)
        //in practise, path can be derived from the data, e.g., the border of a rectangle, or a trajectory
        var path1 = [
            [117.01388835906982, 438.0138883590698],
            [123.01388835906982, 427.0138883590698],
            [127.01388835906982, 417.0138883590698],
            [132.01388835906982, 407.0138883590698],
            [139.01388835906982, 394.0138883590698],
            [147.01388835906982, 385.0138883590698],
            [154.01388835906982, 374.0138883590698],
            [160.01388835906982, 366.0138883590698],
            [166.01388835906982, 358.0138883590698],
            [173.01388835906982, 349.0138883590698],
            [184.01388835906982, 342.0138883590698],
            [193.01388835906982, 337.0138883590698],
            [203.01388835906982, 337.0138883590698],
            [213.01388835906982, 337.0138883590698],
            [223.01388835906982, 338.0138883590698],
            [234.01388835906982, 343.0138883590698],
            [244.01388835906982, 346.0138883590698],
            [254.01388835906982, 352.0138883590698],
            [263.0138883590698, 359.0138883590698],
            [272.0138883590698, 364.0138883590698],
            [282.0138883590698, 362.0138883590698],
            [290.0138883590698, 354.0138883590698],
            [299.0138883590698, 345.0138883590698],
            [312.0138883590698, 338.0138883590698],
            [322.0138883590698, 334.0138883590698],
            [334.0138883590698, 327.0138883590698],
            [344.0138883590698, 324.0138883590698],
            [354.0138883590698, 320.0138883590698],
            [364.0138883590698, 319.0138883590698],
            [374.0138883590698, 318.0138883590698],
            [384.0138883590698, 318.0138883590698],
            [394.0138883590698, 319.0138883590698],
            [404.0138883590698, 325.0138883590698],
            [414.0138883590698, 329.0138883590698],
            [422.0138883590698, 336.0138883590698],
            [434.0138883590698, 346.0138883590698],
            [440.0138883590698, 354.0138883590698],
            [447.0138883590698, 362.0138883590698],
            [455.0138883590698, 370.0138883590698],
            [462.0138883590698, 378.0138883590698],
            [468.0138883590698, 386.0138883590698]
        ]
        
        
        var line1 = d3.select('body')
                    .select('svg')
                    .append("path")
                    .attr("d", lineFunction(path1))
                    .attr("stroke", "black")
                    .attr("stroke-width", 3)
                    .style("fill", "none")

        var path2 = [
            [577.01388835906982, 438.0138883590698],
            [583.01388835906982, 427.0138883590698],
            [587.01388835906982, 417.0138883590698],
            [592.01388835906982, 407.0138883590698],
            [599.01388835906982, 394.0138883590698],
            [607.01388835906982, 385.0138883590698],
            [614.01388835906982, 374.0138883590698],
            [620.01388835906982, 366.0138883590698],
            [626.01388835906982, 358.0138883590698],
            [633.01388835906982, 349.0138883590698],
            [644.01388835906982, 342.0138883590698],
            [653.01388835906982, 337.0138883590698],
            [663.01388835906982, 337.0138883590698],
            [673.01388835906982, 337.0138883590698],
            [683.01388835906982, 338.0138883590698],
            [694.01388835906982, 343.0138883590698],
            [704.01388835906982, 346.0138883590698],
            [714.01388835906982, 352.0138883590698],
            [723.0138883590698, 359.0138883590698],
            [732.0138883590698, 364.0138883590698],
            [742.0138883590698, 362.0138883590698],
            [750.0138883590698, 354.0138883590698],
            [759.0138883590698, 345.0138883590698],
            [772.0138883590698, 338.0138883590698],
            [782.0138883590698, 334.0138883590698],
            [794.0138883590698, 327.0138883590698],
            [804.0138883590698, 324.0138883590698],
            [814.0138883590698, 320.0138883590698],
            [824.0138883590698, 319.0138883590698],
            [834.0138883590698, 318.0138883590698],
            [844.0138883590698, 318.0138883590698],
            [854.0138883590698, 319.0138883590698],
            [864.0138883590698, 325.0138883590698],
            [874.0138883590698, 329.0138883590698],
            [882.0138883590698, 336.0138883590698],
            [894.0138883590698, 346.0138883590698],
            [900.0138883590698, 354.0138883590698],
            [907.0138883590698, 362.0138883590698],
            [915.0138883590698, 370.0138883590698],
            [922.0138883590698, 378.0138883590698],
            [928.0138883590698, 386.0138883590698]
        ]

        var line2 = d3.select('body')
                    .select('svg')
                    .append("path")
                    .attr("d", lineFunction(path2))
                    .attr("stroke", "black")
                    .attr("stroke-width", 3)
                    .style("fill", "none")

        
        // paper.project.importSVG("../svg/111.svg", function(item){
        // paper.project.importSVG('../svg/rightarrow.svg', function(item){
        paper.project.importSVG('../svg/waterdrop.svg', function(item){
            console.log("item",item)

            visual_proxy = item._children[1]
            visual_proxy.visible = true;


            boundary1 = [[115,300],[470,300],[470,450],[115,450]]
            var speed1 = 25
            var space1 = 25
            var color1 = "#05a0ff"

            boundary2 = [[575,300],[930,300],[930,450],[575,450]]
            var speed2 = 15
            var space2 = 50
            var color2 = "#ffd705"

            MA_Start()
            marchingAntByExample(visual_proxy, path1, boundary1, speed1, space1, color1)
            marchingAntByExample(visual_proxy, path2, boundary2, speed2, space2, color2)
            MA_End()
        })

    </script>
   
</body>
</html>
